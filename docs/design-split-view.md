# Split Viewï¼ˆSide-by-Side Diffï¼‰è¨­è¨ˆæ›¸

## æ¦‚è¦

PR è©³ç´°ç”»é¢ã® diff è¡¨ç¤ºã« split viewï¼ˆside-by-sideï¼‰ãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã€‚ç¾åœ¨ã¯ unified diffï¼ˆå˜ä¸€ã‚«ãƒ©ãƒ ï¼‰ã®ã¿ã§ã‚ã‚Šã€å¤‰æ›´å‰å¾Œã®å¯¾å¿œè¡Œã‚’ç›®è¦–ã§æŠŠæ¡ã—ã«ãã„ã€‚ç‰¹ã«å¤§ããª diff ã‚„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç³»ã®å¤‰æ›´ã§ã¯ã€before/after ã‚’æ¨ªä¸¦ã³ã§æ¯”è¼ƒã§ãã‚‹ã¨å¯èª­æ€§ãŒå¤§å¹…ã«å‘ä¸Šã™ã‚‹ã€‚

`s` ã‚­ãƒ¼ã§ unified â†” split ã‚’åˆ‡ã‚Šæ›¿ãˆã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…ãŒä¸è¶³ã™ã‚‹å ´åˆã¯ unified ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã€‚

## ã‚¹ã‚³ãƒ¼ãƒ—

### ä»Šå›ã‚„ã‚‹ã“ã¨

- `s` ã‚­ãƒ¼ã§ unified â†” split view ã®åˆ‡ã‚Šæ›¿ãˆ
- å·¦ãƒšã‚¤ãƒ³ï¼ˆbefore: delete + contextï¼‰ã€å³ãƒšã‚¤ãƒ³ï¼ˆafter: add + contextï¼‰ã®æ¨ªä¸¦ã³è¡¨ç¤º
- é€£ç¶šã™ã‚‹ delete â†’ add ã®ãƒšã‚¢ãƒªãƒ³ã‚°ï¼ˆå¯¾å¿œã™ã‚‹è¡Œã‚’åŒã˜è¡Œã«æ¨ªä¸¦ã³ï¼‰
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…ã®è‡ªå‹•æ¤œå‡ºï¼ˆ`useStdout()` â†’ `stdout.columns`ï¼‰
- 100 åˆ—æœªæº€ã®å ´åˆã« unified view ã¸ã®è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆã® full-width è¡¨ç¤ºï¼ˆå·¦å³ãƒšã‚¤ãƒ³ã‚’ã¾ãŸã„ã§å…¨å¹…ï¼‰
- è¡Œç•ªå·ã®è¡¨ç¤ºï¼ˆå„ãƒšã‚¤ãƒ³ã« before/after ã®è¡Œç•ªå·ï¼‰
- é•·ã„è¡Œã® truncationï¼ˆãƒšã‚¤ãƒ³å¹…ã«åã¾ã‚‹ã‚ˆã†åˆ‡ã‚Šè©°ã‚ï¼‰
- æ—¢å­˜ã®ã‚«ãƒ¼ã‚½ãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆj/k, Ctrl+d/u, n/N, Gï¼‰ã¨ã®äº’æ›æ€§

### ä»Šå›ã‚„ã‚‰ãªã„ã“ã¨

- å·¦å³ç‹¬ç«‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« â†’ è¤‡é›‘åº¦ãŒé«˜ããƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒé™å®šçš„ã€‚å°†æ¥æ¤œè¨
- ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ â†’ v0.3.0ï¼ˆUX å¼·åŒ–ï¼‰ã§åˆ¥é€”æ¤œè¨
- word-level diffï¼ˆè¡Œå†…ã®å·®åˆ†ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼‰â†’ å°†æ¥æ¤œè¨
- ã‚³ãƒŸãƒƒãƒˆãƒ“ãƒ¥ãƒ¼ï¼ˆTab åˆ‡ã‚Šæ›¿ãˆï¼‰ã§ã® split view â†’ Phase 2 ã§å¯¾å¿œæ¤œè¨

## æŠ€è¡“çš„è©•ä¾¡

### å®Ÿç¾å¯èƒ½æ€§: å¯èƒ½ï¼ˆé›£æ˜“åº¦: ä¸­ï¼‰

| è¦³ç‚¹ | è©•ä¾¡ |
|------|------|
| ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | Ink 6.7.0 ã® `Box flexDirection="row"` ã§æ¨ªä¸¦ã³å¯èƒ½ã€‚`width` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§å„ãƒšã‚¤ãƒ³å¹…ã‚’åˆ¶å¾¡ |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…å–å¾— | `useStdout()` ãƒ•ãƒƒã‚¯ã§ `stdout.columns` ã‚’å–å¾—å¯èƒ½ |
| ãƒ‡ãƒ¼ã‚¿å¤‰æ› | `computeSimpleDiff()` ãŒ `beforeLineNumber`/`afterLineNumber` ã‚’å€‹åˆ¥è¿½è·¡æ¸ˆã¿ã€‚split å¤‰æ›ã®åŸºç›¤ã‚ã‚Š |
| ã‚«ãƒ¼ã‚½ãƒ«äº’æ›æ€§ | `cursorIndex` ã‚’ `lines[]` ä¸Šã§ç¶­æŒã™ã‚Œã°æ—¢å­˜ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ä¸è¦ |

### CloudShell äº’æ›æ€§: å•é¡Œãªã—

| è¦³ç‚¹ | çŠ¶æ³ |
|------|------|
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ç¨®åˆ¥ | xterm äº’æ› |
| è‰²æ•° | 256 è‰²å¯¾å¿œ |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† | tmux ä½¿ç”¨ï¼ˆ`process.stdout.columns` æ­£å¸¸å‹•ä½œï¼‰ |
| ãƒªã‚µã‚¤ã‚º | ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆãŒ tmux çµŒç”±ã§ä¼æ’­ |
| æœ€å°å¹… | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ 100 åˆ—ä»¥ä¸Šç¢ºä¿å¯èƒ½ |
| Split pane ä½¿ç”¨æ™‚ | CloudShell è‡ªä½“ã® split pane ã§å¹…ãŒåŠæ¸›ã™ã‚‹å ´åˆã‚ã‚Š â†’ unified ã«è‡ªå‹• fallback |

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### SplitRow å‹ï¼ˆæ–°è¦ï¼‰

`DisplayLine[]`ï¼ˆunified å½¢å¼ï¼‰ã‚’ split view ç”¨ã«å¤‰æ›ã—ãŸè¡Œãƒ‡ãƒ¼ã‚¿ã€‚

```typescript
/** split view ã® 1 è¡Œã‚’è¡¨ã™ union å‹ */
export type SplitRow =
  | { kind: "full-width"; line: DisplayLine; sourceIndex: number }
  | {
      kind: "split";
      left: SplitDiffCell;
      right: SplitDiffCell;
      sourceIndex: number;
      fullWidthLines: DisplayLine[];
    };

/** split view ã®å„ãƒšã‚¤ãƒ³ã®ã‚»ãƒ« */
export interface SplitDiffCell {
  type: "empty" | "context" | "add" | "delete";
  lineNumber?: number;
  text: string; // å…ˆé ­ã® +/-/ç©ºç™½ ã‚’é™¤å»æ¸ˆã¿ï¼ˆè‰²ã§åŒºåˆ¥ã™ã‚‹ãŸã‚ï¼‰
}
```

**è¨­è¨ˆåˆ¤æ–­**:
- `kind: "full-width"`: header, separator, truncation, comment ç­‰ã®æ§‹é€ çš„ãªè¡Œã€‚å·¦å³ãƒšã‚¤ãƒ³ã«åˆ†å‰²ã›ãšãã®ã¾ã¾è¡¨ç¤º
- `kind: "split"`: diff ã®ã‚³ãƒ¼ãƒ‰è¡Œã€‚å·¦å³ãƒšã‚¤ãƒ³ã«åˆ†å‰²ã—ã¦è¡¨ç¤º
- `fullWidthLines`: split è¡Œã«ä»˜å±ã™ã‚‹ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆã€‚split è¡Œã®ç›´ä¸‹ã« full-width ã§è¡¨ç¤º
- `sourceIndex`: å…ƒã® `lines[]` é…åˆ—å†…ã§ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€‚ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã«ä½¿ç”¨
- `text` ã‹ã‚‰å…ˆé ­ã® `+`/`-`/` ` ã‚’é™¤å»: split view ã§ã¯è‰²ï¼ˆèµ¤/ç·‘ï¼‰ã§å¤‰æ›´ç¨®åˆ¥ã‚’ç¤ºã™ãŸã‚ã€ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹æ–‡å­—ã¯ä¸è¦ã€‚1 æ–‡å­—åˆ†ã®ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºå¹…ã‚’ç¢ºä¿

### buildSplitRows å¤‰æ›é–¢æ•°

```typescript
export function buildSplitRows(lines: DisplayLine[]): SplitRow[];
```

#### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

1. `DisplayLine[]` ã‚’å…ˆé ­ã‹ã‚‰èµ°æŸ»
2. **header / separator / truncation / truncate-context** â†’ `{ kind: "full-width" }` ã¨ã—ã¦è¿½åŠ 
3. **context** â†’ `{ kind: "split", left: context, right: context }` ã¨ã—ã¦è¿½åŠ ï¼ˆä¸¡æ–¹ã«ã‚³ãƒ”ãƒ¼ï¼‰
4. **é€£ç¶šã™ã‚‹ delete ç¾¤** â†’ ãƒãƒƒãƒ•ã‚¡ã«è“„ç©
5. **delete ç¾¤ã®ç›´å¾Œã®é€£ç¶šã™ã‚‹ add ç¾¤** â†’ delete ãƒãƒƒãƒ•ã‚¡ã¨ãƒšã‚¢ãƒªãƒ³ã‚°:
   - `delete[0] â†” add[0]`, `delete[1] â†” add[1]`, ... ã®ã‚ˆã†ã« 1:1 å¯¾å¿œ
   - delete ãŒä½™ã‚Š â†’ `right: { type: "empty" }`
   - add ãŒä½™ã‚Š â†’ `left: { type: "empty" }`
6. **comment ç³»ã®è¡Œ**ï¼ˆinline-comment, inline-reply, comment, comment-reply, fold-indicatorï¼‰â†’ ç›´å‰ã® `SplitRow` ã® `fullWidthLines` ã«è¿½åŠ 

```
å…¥åŠ›: [delete, delete, delete, add, add]

å‡ºåŠ›:
  Row 1: left=delete[0], right=add[0]
  Row 2: left=delete[1], right=add[1]
  Row 3: left=delete[2], right=empty
```

## ç”»é¢è¨­è¨ˆ

### Split Viewï¼ˆé€šå¸¸æ™‚ï¼‰

```
â”Œâ”€ PR #42: fix: login timeout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Author: watany  Status: OPEN   2h ago                                    â”‚
â”‚  main â† feature/fix-login   File 1/3                                     â”‚
â”‚  Approvals: taro âœ“                                                        â”‚
â”‚                                                                           â”‚
â”‚  src/auth.ts                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ >  24 â”‚  const config = {              â”‚  24 â”‚  const config = {           â”‚
â”‚    25 â”‚  timeout: 3000,                â”‚  25 â”‚  timeout: 10000,            â”‚
â”‚    26 â”‚  retries: 1,                   â”‚  26 â”‚  retries: 3,               â”‚
â”‚    27 â”‚}                               â”‚  27 â”‚  backoff: true,            â”‚
â”‚       â”‚                                â”‚  28 â”‚}                           â”‚
â”‚    28 â”‚  return fetch(url, config);    â”‚  29 â”‚  return fetch(url, config);â”‚
â”‚                                                                           â”‚
â”‚    ğŸ’¬ taro: timeout ã‚’å¢—ã‚„ã™ãªã‚‰ retries ã‚‚è¦‹ç›´ã—ãŸæ–¹ãŒã„ã„ã‹ã‚‚              â”‚
â”‚       â”” watany: å¯¾å¿œã—ã¾ã—ãŸ                                              â”‚
â”‚                                                                           â”‚
â”‚  â†‘â†“ n/N file f list s unified c comment C inline R reply ... q ? help     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Split Viewï¼ˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…ä¸è¶³æ™‚ â€” unified ã«è‡ªå‹• fallbackï¼‰

```
â”Œâ”€ PR #42: fix: login timeout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Author: watany  Status: OPEN   2h ago                 â”‚
â”‚  ...                                                   â”‚
â”‚                                                        â”‚
â”‚  src/auth.ts                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ > -   timeout: 3000,                                   â”‚
â”‚   +   timeout: 10000,                                  â”‚
â”‚  ...                                                   â”‚
â”‚                                                        â”‚
â”‚  (split view: 100åˆ—ä»¥ä¸Šã§åˆ©ç”¨å¯èƒ½)                      â”‚
â”‚  â†‘â†“ n/N file f list s split c comment ... q ? help     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒšã‚¤ãƒ³å¹…ã®è¨ˆç®—

```
terminalWidth = stdout.columnsï¼ˆä¾‹: 120ï¼‰

cursorWidth  = 2    // "> " or "  "
dividerWidth = 1    // "â”‚"
availableWidth = terminalWidth - cursorWidth - dividerWidth  // 117
paneWidth = floor(availableWidth / 2)                        // 58

lineNumWidth = 5    // "1234 "ï¼ˆ4æ¡ + 1ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
codeWidth = paneWidth - lineNumWidth                         // 53
```

| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹… | ãƒšã‚¤ãƒ³å¹… | ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºå¹… | è©•ä¾¡ |
|-------------|---------|------------|------|
| 120 åˆ— | 58 | 53 | ååˆ† |
| 100 åˆ— | 48 | 43 | å®Ÿç”¨çš„ |
| 80 åˆ— | â€” | â€” | unified ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |

æœ€å°é–¾å€¤: **100 åˆ—**ã€‚ã“ã‚Œæœªæº€ã§ã¯ split ã‚’ç„¡åŠ¹åŒ–ã— unified ã‚’å¼·åˆ¶ã™ã‚‹ã€‚

## AWS SDK é€£æº

æœ¬æ©Ÿèƒ½ã¯ç´”ç²‹ãª UI å¤‰æ›´ã§ã‚ã‚Šã€AWS SDK ã®å‘¼ã³å‡ºã—ãƒ»èªè¨¼ãƒ•ãƒ­ãƒ¼ãƒ»IAM æ¨©é™ã«å¤‰æ›´ã¯ãªã„ã€‚æ–°ãŸãª API ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ ã‚‚ä¸è¦ã€‚

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®

æœ¬æ©Ÿèƒ½ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã«å¯¾ã™ã‚‹è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆã®ã¿ã§ã‚ã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è€ƒæ…®äº‹é …ã¯ãªã„ã€‚

- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å¤–éƒ¨é€ä¿¡: ãªã—ï¼ˆè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ state ã®å†…éƒ¨æ›´æ–°ã®ã¿ï¼‰
- AWS èªè¨¼æƒ…å ±ã®å–ã‚Šæ‰±ã„: å¤‰æ›´ãªã—
- å…¥åŠ›å€¤ã®æ¤œè¨¼: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…ã®æ•°å€¤ãƒã‚§ãƒƒã‚¯ï¼ˆ`stdout.columns ?? 120`ï¼‰ã®ã¿

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### å¤‰æ›´å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | æ“ä½œ | å¤‰æ›´å†…å®¹ |
|---------|------|---------|
| `src/utils/splitDiff.ts` | æ–°è¦ | `SplitRow` å‹å®šç¾©ã€`buildSplitRows()` å¤‰æ›é–¢æ•° |
| `src/utils/splitDiff.test.ts` | æ–°è¦ | å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| `src/components/SplitDiffLine.tsx` | æ–°è¦ | split è¡Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| `src/components/SplitDiffLine.test.tsx` | æ–°è¦ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ |
| `src/components/PullRequestDetail.tsx` | ä¿®æ­£ | split view çµ±åˆï¼ˆstate, `s` ã‚­ãƒ¼, `useStdout`, æ¡ä»¶åˆ†å²ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰ |
| `src/components/PullRequestDetail.test.tsx` | ä¿®æ­£ | split mode ãƒ†ã‚¹ãƒˆè¿½åŠ  |
| `src/components/Help.tsx` | ä¿®æ­£ | `s` ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰èª¬æ˜è¿½åŠ  |
| `src/components/Help.test.tsx` | ä¿®æ­£ | ãƒ˜ãƒ«ãƒ—è¡¨ç¤ºãƒ†ã‚¹ãƒˆæ›´æ–° |

### æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°

#### 1. `src/utils/splitDiff.ts`

`DisplayLine[]` â†’ `SplitRow[]` ã®ç´”ç²‹é–¢æ•°ã€‚UI éä¾å­˜ã§ãƒ†ã‚¹ãƒˆå®¹æ˜“ã€‚

å†åˆ©ç”¨ã™ã‚‹æ—¢å­˜ã‚³ãƒ¼ãƒ‰:
- `DisplayLine` å‹ï¼ˆ`src/utils/formatDiff.ts:1-24`ï¼‰
- `COMMENT_LINE_TYPES`ï¼ˆ`src/utils/displayLines.ts:11-16`ï¼‰

#### 2. `src/components/SplitDiffLine.tsx`

1 è¡Œåˆ†ã® split view ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€‚

```tsx
// full-width è¡Œ: æ—¢å­˜ã® renderDiffLine() ã‚’å†åˆ©ç”¨
// split è¡Œ: Box flexDirection="row" ã§å·¦å³ãƒšã‚¤ãƒ³
<Box flexDirection="row">
  <Text>{isCursor ? "> " : "  "}</Text>
  <Box width={paneWidth}>
    {/* è¡Œç•ªå·(dimColor, 4æ¡å³å¯„ã›) + ã‚³ãƒ¼ãƒ‰(è‰²ä»˜ã) */}
  </Box>
  <Text dimColor>â”‚</Text>
  <Box width={paneWidth}>
    {/* è¡Œç•ªå·(dimColor, 4æ¡å³å¯„ã›) + ã‚³ãƒ¼ãƒ‰(è‰²ä»˜ã) */}
  </Box>
</Box>
```

å†åˆ©ç”¨ã™ã‚‹æ—¢å­˜ã‚³ãƒ¼ãƒ‰:
- `renderDiffLine()`ï¼ˆ`src/components/DiffLine.tsx`ï¼‰â€” full-width è¡Œã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

### PullRequestDetail.tsx ã®å¤‰æ›´

#### State è¿½åŠ 

```typescript
const [diffViewMode, setDiffViewMode] = useState<"unified" | "split">("unified");
```

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…å–å¾—

```typescript
const { stdout } = useStdout();
const terminalWidth = props.terminalWidth ?? stdout?.columns ?? 120;
const effectiveViewMode = diffViewMode === "split" && terminalWidth >= 100
  ? "split"
  : "unified";
```

ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®ãŸã‚ `terminalWidth?` ãƒ—ãƒ­ãƒƒãƒ—ã‚’è¿½åŠ ï¼ˆink-testing-library ã§ã¯ `useStdout()` ãŒ `{ stdout: null }` ã‚’è¿”ã™ãŸã‚ï¼‰ã€‚

#### `s` ã‚­ãƒ¼ãƒãƒ³ãƒ‰ãƒ©

```typescript
if (input === "s") {
  setDiffViewMode((prev) => prev === "unified" ? "split" : "unified");
  return;
}
```

#### æ¡ä»¶åˆ†å²ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```typescript
const splitRows = useMemo(() => {
  if (effectiveViewMode !== "split") return null;
  return buildSplitRows(lines);
}, [effectiveViewMode, lines]);
```

unified / split ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’åˆ†å²:
- unified: æ—¢å­˜ã®ã¾ã¾ï¼ˆ`visibleLines.map(...)` + `renderDiffLine()`ï¼‰
- split: `splitRows` ã®å¯è¦–ç¯„å›²ã‚’ `SplitDiffLine` ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

#### ã‚«ãƒ¼ã‚½ãƒ«ãƒ¢ãƒ‡ãƒ«

**å¤‰æ›´ãªã—**ã€‚`cursorIndex` ã¯ `lines[]`ï¼ˆunified å½¢å¼ï¼‰ä¸Šã§å‹•ä½œã€‚`SplitRow.sourceIndex` ã§å¯¾å¿œã™ã‚‹ split è¡Œã‚’ç‰¹å®šã™ã‚‹ã€‚j/k, Ctrl+d/u, n/N, G ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ã®ã¾ã¾ã€‚

#### ãƒ•ãƒƒã‚¿ãƒ¼æ›´æ–°

```
// split mode æ™‚
"â†‘â†“ n/N file f list s unified c comment ..."
// unified mode æ™‚ï¼ˆsplit å¯èƒ½ï¼‰
"â†‘â†“ n/N file f list s split c comment ..."
// unified mode æ™‚ï¼ˆå¹…ä¸è¶³ã§ split ä¸å¯ï¼‰
"â†‘â†“ n/N file f list c comment ..."  // s ã‚’éè¡¨ç¤º
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
DisplayLine[] (buildDisplayLines() ã§ç”Ÿæˆ â€” å¤‰æ›´ãªã—)
  â”‚
  â”œâ”€â”€ effectiveViewMode === "unified"
  â”‚     â””â”€â†’ æ—¢å­˜ã® renderDiffLine() ã§æç”»ï¼ˆå¤‰æ›´ãªã—ï¼‰
  â”‚
  â””â”€â”€ effectiveViewMode === "split"
        â””â”€â†’ buildSplitRows(lines) â†’ SplitRow[]
              â””â”€â†’ SplitDiffLine ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æç”»
                    â”œâ”€â”€ kind: "full-width" â†’ renderDiffLine() ã§æç”»
                    â””â”€â”€ kind: "split" â†’ å·¦å³ãƒšã‚¤ãƒ³ + è¡Œç•ªå· + è‰²åˆ†ã‘
```

## ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰

### è¿½åŠ ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰

| ã‚­ãƒ¼ | å‹•ä½œ | ç”»é¢ |
|------|------|------|
| `s` | Split / Unified ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ | PR è©³ç´°ç”»é¢ï¼ˆå…¥åŠ›ä¸­ãƒ»ç¢ºèªä¸­ã¯ç„¡åŠ¹ï¼‰ |

### æ—¢å­˜ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã¨ã®è¡çªç¢ºèª

| ã‚­ãƒ¼ | æ—¢å­˜ã®ç”¨é€” | è¡çª |
|------|-----------|------|
| `s` | ãªã— | ãªã— |

ç¢ºèªæ¸ˆã¿ã®ä½¿ç”¨ä¸­ã‚­ãƒ¼: j, k, t, n, N, f, c, C, o, R, a, r, m, x, A, e, d, g, G, q, ?, Tab, Ctrl+d, Ctrl+u, Ctrl+C

## ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã¨å¯¾å‡¦æ–¹é‡

| ã‚±ãƒ¼ã‚¹ | å¯¾å‡¦ |
|--------|------|
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹… < 100 åˆ— | unified ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‚`s` ã‚­ãƒ¼ã¯å—ã‘ä»˜ã‘ã‚‹ãŒ effectiveViewMode ã¯ unified |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒªã‚µã‚¤ã‚ºã§ 100 åˆ—æœªæº€ã« | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ unified ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒªã‚µã‚¤ã‚ºã§ 100 åˆ—ä»¥ä¸Šã« | split ã«å¾©å¸°ï¼ˆ`diffViewMode === "split"` ãªã‚‰ï¼‰ |
| ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›ä¸­ï¼ˆ`c`/`C`/`R`/`e`ï¼‰ã« `s` | ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¬ãƒ¼ãƒ‰ã«ã‚ˆã‚Šç„¡åŠ¹ |
| ã‚³ãƒŸãƒƒãƒˆãƒ“ãƒ¥ãƒ¼ï¼ˆTab åˆ‡ã‚Šæ›¿ãˆå¾Œï¼‰ã§ `s` | é€šå¸¸é€šã‚Šå‹•ä½œï¼ˆã‚³ãƒŸãƒƒãƒˆ diff ã«ã‚‚ split é©ç”¨ï¼‰ |
| è¡Œç•ªå·ãŒ 5 æ¡ä»¥ä¸Šï¼ˆ10000 è¡Œè¶…ï¼‰ | è¡¨ç¤ºãŒå´©ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Šã€‚é€šå¸¸ã® PR diff ã§ã¯ç¨€ã€‚å°†æ¥çš„ã«å‹•çš„å¹…èª¿æ•´ã‚’æ¤œè¨ |
| diff ãŒç©ºï¼ˆlines.length === 0ï¼‰ | split/unified ã„ãšã‚Œã‚‚ç©ºè¡¨ç¤ºï¼ˆæ—¢å­˜å‹•ä½œã¨åŒã˜ï¼‰ |
| delete ã®ã¿ã®è¡Œç¾¤ï¼ˆadd ãªã—ï¼‰ | å·¦ã®ã¿è¡¨ç¤ºã€å³ã¯ empty |
| add ã®ã¿ã®è¡Œç¾¤ï¼ˆdelete ãªã—ï¼‰ | å³ã®ã¿è¡¨ç¤ºã€å·¦ã¯ empty |
| éå¸¸ã«é•·ã„ 1 è¡Œ | `codeWidth` ã§ truncateã€‚æœ«å°¾ã¯å˜ã«åˆ‡ã‚Šè©°ã‚ |
| full-width ã‚³ãƒ¡ãƒ³ãƒˆã®è¡¨ç¤º | split è¡Œã®ç›´ä¸‹ã«å…¨å¹…ã§è¡¨ç¤ºã€‚ã‚«ãƒ¼ã‚½ãƒ«ã¯å…ƒã® `lines[]` index ã§ç®¡ç† |
| ink-testing-library ã§ã®ãƒ†ã‚¹ãƒˆ | `useStdout()` ãŒ `null` ã‚’è¿”ã™ãŸã‚ã€`terminalWidth` ãƒ—ãƒ­ãƒƒãƒ—ã§åˆ¶å¾¡ |

## ãƒ†ã‚¹ãƒˆæ–¹é‡

### ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨æ–¹é‡

| ãƒ†ã‚¹ãƒˆå¯¾è±¡ | æ–¹é‡ |
|-----------|------|
| `buildSplitRows()` | ç´”ç²‹é–¢æ•°ã€‚å…¥å‡ºåŠ›ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆUI éä¾å­˜ï¼‰ |
| `SplitDiffLine` | ink-testing-library ã§ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ |
| `PullRequestDetail`ï¼ˆ`s` ã‚­ãƒ¼ï¼‰ | ink-testing-library + `terminalWidth` ãƒ—ãƒ­ãƒƒãƒ— |
| `Help`ï¼ˆ`s` ã‚­ãƒ¼è¡¨ç¤ºï¼‰ | æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å€£ã†ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |

ã‚«ãƒãƒ¬ãƒƒã‚¸ 95% ä»¥ä¸Šã‚’ç¶­æŒã€‚

### å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

#### splitDiff.tsï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼‰

| # | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æœŸå¾…çµæœ |
|---|-------------|---------|
| 1 | context è¡Œã®å¤‰æ› | left/right ä¸¡æ–¹ã«åŒã˜ãƒ†ã‚­ã‚¹ãƒˆã€type=context |
| 2 | delete è¡Œã®å¤‰æ› | left=delete, right=empty |
| 3 | add è¡Œã®å¤‰æ› | left=empty, right=add |
| 4 | é€£ç¶š delete+add ã®ãƒšã‚¢ãƒªãƒ³ã‚° | 1:1 ã§ãƒšã‚¢ãƒªãƒ³ã‚° |
| 5 | delete > addï¼ˆä½™ã‚Šã‚ã‚Šï¼‰ | ä½™ã£ãŸ delete ã¯ right=empty |
| 6 | delete < addï¼ˆä½™ã‚Šã‚ã‚Šï¼‰ | ä½™ã£ãŸ add ã¯ left=empty |
| 7 | header/separator | kind=full-width |
| 8 | inline comment | ç›´å‰ SplitRow ã® fullWidthLines ã«æ ¼ç´ |
| 9 | ç©ºå…¥åŠ› | ç©ºé…åˆ— |
| 10 | text ã®å…ˆé ­ +/-/ç©ºç™½ã®é™¤å» | SplitDiffCell.text ã‹ã‚‰é™¤å»æ¸ˆã¿ |

#### SplitDiffLine.tsxï¼ˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆï¼‰

| # | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æœŸå¾…çµæœ |
|---|-------------|---------|
| 1 | full-width è¡Œã®è¡¨ç¤º | æ—¢å­˜ã® renderDiffLine ã¨åŒç­‰ |
| 2 | split context è¡Œ | å·¦å³ã«åŒã˜ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º |
| 3 | split delete+add ãƒšã‚¢ | å·¦=èµ¤ã€å³=ç·‘ |
| 4 | empty ã‚»ãƒ«ã®è¡¨ç¤º | ç©ºæ¬„ï¼ˆdimColorï¼‰ |
| 5 | è¡Œç•ªå·ã®è¡¨ç¤º | 4 æ¡å³å¯„ã› |
| 6 | ã‚«ãƒ¼ã‚½ãƒ«è¡¨ç¤º | `> ` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ |
| 7 | fullWidthLines ã®è¡¨ç¤º | split è¡Œã®ä¸‹ã«å…¨å¹…ã§è¡¨ç¤º |

#### PullRequestDetail.test.tsxï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ åˆ†ï¼‰

| # | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æœŸå¾…çµæœ |
|---|-------------|---------|
| 1 | `s` ã‚­ãƒ¼ã§ split ã«åˆ‡ã‚Šæ›¿ãˆ | split view ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆ`terminalWidth=120` æŒ‡å®šï¼‰ |
| 2 | `s` ã‚­ãƒ¼ã§ unified ã«æˆ»ã‚‹ | unified view ã«æˆ»ã‚‹ |
| 3 | `terminalWidth < 100` ã§ `s` ã‚­ãƒ¼ | unified ã®ã¾ã¾ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ |
| 4 | split mode ã§ j/k ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | ã‚«ãƒ¼ã‚½ãƒ«ãŒæ­£å¸¸ã«ç§»å‹• |
| 5 | split mode ã§ n/N ãƒ•ã‚¡ã‚¤ãƒ«ã‚¸ãƒ£ãƒ³ãƒ— | æ­£å¸¸ã«ãƒ•ã‚¡ã‚¤ãƒ«é–“ç§»å‹• |
| 6 | split mode ã§ Ctrl+d/u | åŠãƒšãƒ¼ã‚¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |
| 7 | ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›ä¸­ã« `s` ãŒç„¡åŠ¹ | ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¬ãƒ¼ãƒ‰ã§ç„¡è¦– |

#### Help.test.tsx

| # | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æœŸå¾…çµæœ |
|---|-------------|---------|
| 1 | `s` ã‚­ãƒ¼ãŒãƒ˜ãƒ«ãƒ—ã«è¡¨ç¤º | "Split/unified diff" ãŒè¡¨ç¤ºã•ã‚Œã‚‹ |

## å®Ÿè£…é †åº

Tidy First ã®åŸå‰‡ã«å¾“ã„ã€æ§‹é€ çš„å¤‰æ›´ã¨æ©Ÿèƒ½çš„å¤‰æ›´ã‚’åˆ†é›¢ã™ã‚‹ã€‚

### Step 1: `splitDiff.ts` â€” ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆRed â†’ Green â†’ Refactorï¼‰

`src/utils/splitDiff.ts` ã¨ `src/utils/splitDiff.test.ts` ã‚’ä½œæˆã€‚ç´”ç²‹é–¢æ•°ã®ãŸã‚ UI éä¾å­˜ã§ãƒ†ã‚¹ãƒˆå¯èƒ½ã€‚

### Step 2: `SplitDiffLine.tsx` â€” ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆRed â†’ Green â†’ Refactorï¼‰

`src/components/SplitDiffLine.tsx` ã¨ `src/components/SplitDiffLine.test.tsx` ã‚’ä½œæˆã€‚

### Step 3: `PullRequestDetail.tsx` â€” çµ±åˆï¼ˆRed â†’ Green â†’ Refactorï¼‰

state è¿½åŠ ã€`s` ã‚­ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ã€`useStdout`ã€æ¡ä»¶åˆ†å²ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ãƒ•ãƒƒã‚¿ãƒ¼æ›´æ–°ã€‚

### Step 4: `Help.tsx` â€” ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰è¡¨ç¤ºæ›´æ–°

`s` ã‚­ãƒ¼ã®èª¬æ˜ã‚’è¿½åŠ ã€‚

### Step 5: å…¨ä½“ãƒ†ã‚¹ãƒˆãƒ»CI

```bash
bun run ci
```

## ã‚³ãƒŸãƒƒãƒˆæˆ¦ç•¥

| # | ã‚³ãƒŸãƒƒãƒˆå†…å®¹ | ç¨®åˆ¥ |
|---|------------|------|
| 1 | `splitDiff.ts` ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ + ãƒ†ã‚¹ãƒˆ | feat |
| 2 | `SplitDiffLine.tsx` ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ + ãƒ†ã‚¹ãƒˆ | feat |
| 3 | `PullRequestDetail.tsx` split view çµ±åˆ + ãƒ†ã‚¹ãƒˆ | feat |
| 4 | `Help.tsx` ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰è¡¨ç¤ºæ›´æ–° + ãƒ†ã‚¹ãƒˆ | feat |

## æŠ€è¡“é¸å®š

### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…å–å¾—: `useStdout()` + ãƒ—ãƒ­ãƒƒãƒ—

| é¸æŠè‚¢ | è©•ä¾¡ |
|--------|------|
| **`useStdout()` + `terminalWidth` ãƒ—ãƒ­ãƒƒãƒ—ï¼ˆæ¡ç”¨ï¼‰** | Ink æ¨™æº–ãƒ•ãƒƒã‚¯ã€‚ãƒ†ã‚¹ãƒˆæ™‚ã¯ãƒ—ãƒ­ãƒƒãƒ—ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ |
| å°‚ç”¨ `useTerminalWidth` ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ | è¿½åŠ ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ†ã‚¹ãƒˆãŒå¿…è¦ã€‚knip ã® dead-code æ¤œå‡ºå¯¾è±¡ã«ãªã‚‹ãƒªã‚¹ã‚¯ã€‚`useStdout` ã§ååˆ† |
| `process.stdout.columns` ç›´æ¥å‚ç…§ | React ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å¤–ã€‚ãƒªã‚µã‚¤ã‚ºæ™‚ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ãªã„ |

### ã‚³ãƒ¡ãƒ³ãƒˆè¡¨ç¤º: full-width è¡Œ

| é¸æŠè‚¢ | è©•ä¾¡ |
|--------|------|
| **full-width è¡Œï¼ˆæ¡ç”¨ï¼‰** | ã‚³ãƒ¡ãƒ³ãƒˆã¯è‡ªç„¶è¨€èªãƒ†ã‚­ã‚¹ãƒˆã€‚å…¨å¹…ã§è¡¨ç¤ºã—ãŸæ–¹ãŒå¯èª­æ€§ãŒé«˜ã„ã€‚å®Ÿè£…ã‚‚ã‚·ãƒ³ãƒ—ãƒ« |
| è©²å½“ãƒšã‚¤ãƒ³å†…ã«è¡¨ç¤º | ãƒšã‚¤ãƒ³å¹…ï¼ˆ43-53 æ–‡å­—ï¼‰ã§ã¯ã‚³ãƒ¡ãƒ³ãƒˆãŒåˆ‡ã‚Œã‚‹ã€‚å¯èª­æ€§ãŒä½ä¸‹ |

### ã‚«ãƒ¼ã‚½ãƒ«ãƒ¢ãƒ‡ãƒ«: æ—¢å­˜ `lines[]` ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç¶­æŒ

| é¸æŠè‚¢ | è©•ä¾¡ |
|--------|------|
| **`lines[]` ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç¶­æŒï¼ˆæ¡ç”¨ï¼‰** | æ—¢å­˜ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆj/k, n/N, Ctrl+d/u, Gï¼‰ãŒä¸€åˆ‡å¤‰æ›´ä¸è¦ã€‚`sourceIndex` ã§ãƒãƒƒãƒ”ãƒ³ã‚° |
| `splitRows[]` ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«åˆ‡ã‚Šæ›¿ãˆ | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯å…¨ä½“ã®æ›¸ãæ›ãˆãŒå¿…è¦ã€‚unified â†” split åˆ‡ã‚Šæ›¿ãˆæ™‚ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å¤‰æ›ã‚‚è¤‡é›‘ |

## ã‚¹ã‚³ãƒ¼ãƒ—å¤–

ä»¥ä¸‹ã¯ä»Šå›ã®ã‚¹ã‚³ãƒ¼ãƒ—ã«å«ã‚ãªã„:

- **å·¦å³ç‹¬ç«‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**: 2 ã¤ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« state ã‚’ç®¡ç†ã™ã‚‹è¤‡é›‘ã•ã€‚split view ã®ä¸»ç›®çš„ã¯å¯¾å¿œè¡Œã®æ¨ªä¸¦ã³æ¯”è¼ƒã§ã‚ã‚Šã€ç‹¬ç«‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯å„ªå…ˆåº¦ä½
- **word-level diff**: è¡Œå†…ã®å¤‰æ›´ç®‡æ‰€ï¼ˆæ–‡å­—å˜ä½ï¼‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã€‚æœ‰ç”¨ã ãŒå®Ÿè£…ã‚³ã‚¹ãƒˆãŒé«˜ã„ã€‚å°†æ¥ã® UX å¼·åŒ–ã§æ¤œè¨
- **å‹•çš„è¡Œç•ªå·å¹…**: 10000 è¡Œè¶…ã® diff ã§è¡Œç•ªå·ãŒ 5 æ¡ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ã€‚é€šå¸¸ã® PR diff ã§ã¯ç¨€
- **ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ**: ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã® v0.3.0ï¼ˆUX å¼·åŒ–ï¼‰ã§åˆ¥é€”å¯¾å¿œ
